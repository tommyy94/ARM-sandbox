


ARM Macro Assembler    Page 1 


    1 00000000         ; Directives
    2 00000000                 PRESERVE8
    3 00000000                 THUMB
    4 00000000         
    5 00000000         ; Vector Table Mapped to Address 0 at Reset
    6 00000000                 AREA             RESET, DATA, READONLY
    7 00000000                 EXPORT           __Vectors
    8 00000000         
    9 00000000         __Vectors
   10 00000000 20001000        DCD              0x20001000  ; stack pointer val
                                                            ue when stack is em
                                                            pty
   11 00000004 00000000        DCD              Reset_Handler ; reset vector
   12 00000008         
   13 00000008                 ALIGN
   14 00000008         
   15 00000008         
   16 00000008         string
   17 00000008 56 65 72 
              79 20 6E 
              69 63 65 
              20 73 75 
              6D 6D 65 
              72 00            DCB              "Very nice summer", 0
   18 00000019         
   19 00000019                 AREA             MYCODE, CODE, READONLY
   20 00000000         
   21 00000000                 ENTRY
   22 00000000                 EXPORT           Reset_Handler
   23 00000000         
   24 00000000         
   25 00000000         ; Subroutimes
   26 00000000         printString
   27 00000000 4807            LDR              R0, =string ; Load the address 
                                                            of string into the 
                                                            register R0 
   28 00000002 F04F 0100       MOV              R1, #0      ; Initialize the co
                                                            unter counting the 
                                                            length of string
   29 00000006         
   30 00000006         loopCount
   31 00000006 F810 2B01       LDRB             R2, [R0], #1 ; 1oad the charact
                                                            er from the address
                                                             R0 contains
   32 0000000A B112            CBZ              R2, countDone ; If it is zero, 
                                                            we are done, length
                                                             in R1
   33 0000000C F101 0101       ADD              R1, #1      ;             ; inc
                                                            rement the counter 
                                                            for length
   34 00000010 E7F9            B                loopCount
   35 00000012         
   36 00000012         countDone
   37 00000012 4770            BX               LR
   38 00000014         
   39 00000014         
   40 00000014         Reset_Handler
   41 00000014         
   42 00000014         ; Main program



ARM Macro Assembler    Page 2 


   43 00000014         Start
   44 00000014 F7FF FFF4       BL               printString
   45 00000018         
   46 00000018         
   47 00000018 E7FB            B                countDone
   48 0000001A 00 00           ALIGN
   49 0000001C         
   50 0000001C E7FA            B                Start
   51 0000001E                 END
              00 00 00000000 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M3 --apcs=interw
ork --depend=.\objects\first.d -o.\objects\first.o -I.\RTE\_Target_1 -IC:\Keil_
v5\ARM\PACK\Keil\STM32F1xx_DFP\2.2.0\Device\Include -IC:\Keil_v5\ARM\CMSIS\Incl
ude --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION SETA 524" --pred
efine="STM32F10X_MD_VL SETA 1" --list=.\listings\first.lst first.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

RESET 00000000

Symbol: RESET
   Definitions
      At line 6 in file first.s
   Uses
      None
Comment: RESET unused
__Vectors 00000000

Symbol: __Vectors
   Definitions
      At line 9 in file first.s
   Uses
      At line 7 in file first.s
Comment: __Vectors used once
string 00000008

Symbol: string
   Definitions
      At line 16 in file first.s
   Uses
      At line 27 in file first.s
Comment: string used once
3 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

MYCODE 00000000

Symbol: MYCODE
   Definitions
      At line 19 in file first.s
   Uses
      None
Comment: MYCODE unused
Reset_Handler 00000014

Symbol: Reset_Handler
   Definitions
      At line 40 in file first.s
   Uses
      At line 11 in file first.s
      At line 22 in file first.s

Start 00000014

Symbol: Start
   Definitions
      At line 43 in file first.s
   Uses
      At line 50 in file first.s
Comment: Start used once
countDone 00000012

Symbol: countDone
   Definitions
      At line 36 in file first.s
   Uses
      At line 32 in file first.s
      At line 47 in file first.s

loopCount 00000006

Symbol: loopCount
   Definitions
      At line 30 in file first.s
   Uses
      At line 34 in file first.s
Comment: loopCount used once
printString 00000000

Symbol: printString
   Definitions
      At line 26 in file first.s
   Uses
      At line 44 in file first.s
Comment: printString used once
6 symbols
344 symbols in table
